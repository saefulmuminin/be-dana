DANA Widget APIFinish Notify
Finish Notify
POST
/v1.0/debit/notify
This API is used to notify payment status and information from DANA to merchant’s platform

API Type
SNAP API
Expected Timeout
8 second
SNAP Service Code
56

Show API Details
This API is used for the following solution:
DANA Widget Binding
Seamlessly integrate DANA payments into merchant's platform, allowing customers to link their DANA accounts for faster, smoother transactions across all merchant's services.
This API is used for the following solution:
DANA Widget Non Binding
Integrate DANA as a payment method in merchant's platform without account binding. Users simply select DANA, get redirected to the DANA App, and complete payments using their DANA account.

Request Headers
Content-Type
string
1 - 127 characters
Required
Content type, value always application/json
X-TIMESTAMP
string
25 characters
Required
Transaction date time, in format YYYY-MM-DDTHH:mm:ss+07:00. Time must be in GMT+7 (Jakarta time)
X-SIGNATURE
string
Required
Signature need to be generated with asymmetricSignature method
ORIGIN
string
Origin domain
X-PARTNER-ID
string
1 - 36 characters
Required
Unique identifier for partner was generated by DANA, or known as clientId
X-EXTERNAL-ID
string
1 - 36 characters
Required
Unique messaging reference identifier generated by merchant and should be unique within the same day
CHANNEL-ID
string
1 - 5 characters
Required
Device identification on which the API services is currently being accessed by the end user (customer)

Request Body
originalPartnerReferenceNo
string
1 - 64 characters
Required
Original transaction identifier on partner system
originalReferenceNo
string
1 - 64 characters
Required
Original transaction identifier on DANA system
originalExternalId
string
1 - 36 characters
Original external identifier on header message
merchantId
string
1 - 64 characters
Required
Merchant identifier that is unique per each merchant
subMerchantId
string
1 - 32 characters
Sub merchant identifier, known as externalDivisionId must be registered in the DANA system before use. To register a new externalDivisionId, use the Create Division API
amount
money
Required
Amount. Contains two sub-fields:

1. Value: Transaction amount, including the cents
2. Currency: Currency code based on ISO

Show object details
latestTransactionStatus
string
2 characters
Required
Category code for the status of the transaction. The values include:
• 00 = Success, the order has been paid
• 05 = Cancelled, the order has been closed because it is expired
transactionStatusDesc
string
1 - 50 characters
Description of transaction status
createdTime
string
25 characters
Required
Transaction created time, in format YYYY-MM-DDTHH:mm:ss+07:00. Time must be in GMT+7 (Jakarta time)
finishedTime
string
25 characters
Required
Transaction finished time, in format YYYY-MM-DDTHH:mm:ss+07:00. Time must be in GMT+7 (Jakarta time)
externalStoreId
string
1 - 64 characters
Store identifier to indicate to which store this payment belongs to, known as externalShopId must be registered in the DANA system before use. To register a new externalShopId, use the Create Shop API
additionalInfo
json object
Additional information
additionalInfo.paymentInfo
json object
Additional information of payment

Show object details

additionalInfo.shopInfo
json object
Additional information of shop

Show object details
additionalInfo.extendInfo
string
1 - 4096 characters
Additional information of extend
additionalInfo.extendInfo.closedReason
string
1 - 64 characters
Conditional
Additional information of closed reason
Conditional Info
Y:= Order is closed

Request Sample
JSON
POST .../v1.0/debit/notify HTTP/1.2
Content-type: application/json
X-TIMESTAMP: 2020-12-23T07:44:11+07:00
X-SIGNATURE: 85be817c55b2c135157c7e89f52499bf0c25ad6eeebe04a986e8c862561b19a5
ORIGIN: <www.hostname.com>
X-PARTNER-ID: 82150823919040624621823174737537
X-EXTERNAL-ID: 41807553358950093184162180797837
CHANNEL-ID: 95221
{
    "originalPartnerReferenceNo": "2020102900000000000001",
    "originalReferenceNo": "2020102977770000000009",
    "originalExternalId": "30443786930722726463280097920912",
    "merchantId": "23489182303312",
    "subMerchantId": "23489182303312",
    "amount": {
        "value": "10000.00",
        "currency": "IDR"
    },
    "latestTransactionStatus": "00",
    "transactionStatusDesc": "success",
    "createdTime": "2020-12-21T17:07:18+07:00",
    "finishedTime": "2020-12-21T17:07:20+07:00",
    "externalStoreId": "91863213913112",
    "additionalInfo": {
        "paymentInfo": {
        "paidTime": "2022-01-04T19:13:54+07:00",
        "payRequestExtendInfo": "{\"key\":\"value\"}",
        "extendInfo": "{\"topupAndPay\":\"false\",\"paymentStatus\":\"SUCCESS\"}",
        "payOptionInfos": [
        {
            "payMethod": "NETWORK_PAY",
            "payOption": "NETWORK_PAY_PG_OVO",
            "payAmount": {
                "value": "51312.00",
                "currency": "IDR"
            },
            "transAmount": {
                "value": "51312.00",
                "currency": "IDR"
            },
            "chargeAmount": {
                "value": "0.00",
                "currency": "IDR"
            },
            "payOptionBillExtendInfo": "{}",
            "extendInfo": "{\"key\":\"value\"}"
        }
        ],
        "cashierRequestId": "64c4fdc544a7edff9c1e51aebc80f2eb"
        },
        "shopInfo": {
            "divisionId": "21665000011111119920",
            "externalDivisionId": "Test",
            "externalShopId": "TEST0000001",
            "shopAddress": "{\"key\":\"value\"}",
            "shopId": "216660000274111177110",
            "shopName": "Test",
            "operatorId": "",
            "divisionType": ""
        },
        "extendInfo": "{\"closedReason\":\"some reason\"}"
    }
}

Response Headers
Content-Type
string
1 - 127 characters
Required
Content type, value always application/json
X-TIMESTAMP
string
25 characters
Required
Transaction date time, in format YYYY-MM-DDTHH:mm:ss+07:00. Time must be in GMT+7 (Jakarta time)

Response Body
responseCode
string
7 characters
Required
Refer to response code list
responseMessage
string
1 - 150 characters
Required
Refer to response code list

Response Sample
JSON
Content-type: application/json
X-TIMESTAMP: 2020-12-23T07:44:16+07:00
{
    "responseCode": "2005600",
    "responseMessage": "Successful"
}

Response Codes List
Response Cause Solution
2005600
Successful
Success to be processed 
Mark Finish Notify process as Success
5005601
Internal Server Error
Unknown internal server failure, please retry the process again 
Mark Finish Notify process as Pending. Retry periodically within 7 days
Total timeout
Total timeout, the client side does not get any responses from the server side (Can be due to network issue, server slowing down, and so on) 
Do a retry maximum 3 attempts, if still fails mark Finish Notify process as Pending
Unexpected response (Empty field/field does not exist/undefined response code)
The server does not produce expected responses (Can be due to hardware failure, bugs, and so on) 
If the response code prefix are 202 and 5XX, mark Finish Notify process as Pending.
If empty field/field does not exist, mark Finish Notify process as Pending.
